spring.application.name=virtual-pet-api
server.port=8080

# --- CONFIGURACIÓN DE BASE DE DATOS (H2) ---
spring.datasource.url=jdbc:h2:mem:virtualpetdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# --- H2 CONSOLE ---
spring.h2.console.enabled=true
# Esto permite acceder a la consola aunque tengas Spring Security
spring.h2.console.settings.web-allow-others=true 

# --- JPA & HIBERNATE (CORREGIDO) ---
# 'create-drop' asegura que la DB se limpie al reiniciar, evitando errores de duplicados
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true

# --- INICIALIZACIÓN DE DATOS (data.sql) ---
# Fuerza la ejecución del archivo data.sql siempre
spring.sql.init.mode=always
# Crucial: espera a que Hibernate cree las tablas antes de insertar los datos del SQL
spring.jpa.defer-datasource-initialization=true

# --- SEGURIDAD JWT ---
# Secreto para firmar los tokens (HS512)
app.jwtSecret=926D96C90030DD58429D2751AC1BDBBC1234567890ABCDEF1234567890ABCDEF1234567890ABCDEF
# Expiración: 24 horas
app.jwtExpirationInMs=86400000

# --- LOGGING ---
logging.level.root=INFO
logging.level.com.virtualpet.virtualpetapi=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n